<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>IMB Visual Digitizer</title>
    <style>
        :root { --line-color: #00ff00; }
        body { font-family: monospace; margin: 0; background: #000; color: var(--line-color); overflow: hidden; height: 100vh; }
        #camera-container { position: relative; width: 100vw; height: 100vh; display: flex; flex-direction: column; }
        video { width: 100%; height: 100%; object-fit: cover; position: absolute; top: 0; left: 0; z-index: 1; }
        #overlay-layer { position: relative; z-index: 2; height: 100%; pointer-events: none; display: flex; flex-direction: column; align-items: center; }
        
        #viewfinder {
            position: absolute; top: 30%; width: 90%; height: 70px;
            border: 2px solid var(--line-color); transform: translateY(-50%);
            box-shadow: 0 0 0 2000px rgba(0,0,0,0.7);
        }

        #results-area {
            position: absolute; top: calc(30% + 45px); width: 95%;
            background: rgba(15, 15, 15, 0.95); padding: 10px; box-sizing: border-box;
            border: 1px solid #444; border-radius: 8px; pointer-events: auto;
            text-align: center;
        }

        #fadt-text { font-size: 1rem; word-break: break-all; color: #fff; min-height: 1.2em; margin-bottom: 8px; letter-spacing: 1px; font-weight: bold; }
        #status { font-size: 0.7rem; color: var(--line-color); margin-bottom: 10px; font-weight: bold; text-transform: uppercase; }

        #history-panel {
            position: absolute; bottom: 0; width: 100%; max-height: 35vh;
            background: rgba(20, 20, 20, 0.95); border-top: 2px solid #333;
            overflow-y: auto; pointer-events: auto; padding: 10px; box-sizing: border-box;
        }
        .history-item {
            display: flex; align-items: center; gap: 8px; background: #111;
            padding: 8px; border-radius: 4px; margin-bottom: 6px; border-left: 3px solid var(--line-color);
        }
        .history-text { flex: 1; font-size: 0.75rem; color: #ccc; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
        
        .btn-group { display: flex; gap: 8px; }
        button { flex: 1; padding: 12px; background: #222; color: white; border: 1px solid #555; border-radius: 4px; font-weight: bold; font-size: 0.8rem; cursor: pointer; }
        .mini-btn { flex: 0; padding: 6px 10px; font-size: 0.65rem; background: #007bff; border: none; }
        #copy-btn { background: #007bff; border-color: #0056b3; }
        
        @media (orientation: landscape) { 
            #viewfinder { width: 70%; top: 25%; } 
            #results-area { width: 70%; top: calc(25% + 40px); }
            #history-panel { width: 30%; height: 100%; right: 0; top: 0; border-top: none; border-left: 2px solid #333; max-height: none; }
        }
    </style>
</head>
<body>
    <div id="camera-container">
        <video id="video" autoplay playsinline muted></video>
        <div id="overlay-layer">
            <div id="viewfinder"></div>
            <div id="results-area">
                <div id="status">Initializing...</div>
                <div id
